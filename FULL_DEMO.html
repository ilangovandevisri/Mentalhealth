<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mental Health Risk Detection System - Full Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .app-container {
            max-width: 900px;
            margin: 0 auto;
        }
        
        .navbar {
            background: rgba(255,255,255,0.95);
            padding: 15px 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
        
        .navbar-brand {
            font-size: 1.5em;
            font-weight: bold;
            color: #667eea;
        }
        
        .navbar-user {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-info {
            text-align: right;
        }
        
        .user-email {
            font-weight: 600;
            color: #333;
        }
        
        .user-status {
            font-size: 0.85em;
            color: #666;
        }
        
        .btn-logout {
            padding: 8px 16px;
            background: #dc3545;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
        }
        
        .btn-logout:hover {
            background: #c82333;
        }
        
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .card {
            background: white;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
        }
        
        h1 {
            color: #333;
            margin-bottom: 10px;
            font-size: 2em;
        }
        
        .subtitle {
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
        }
        
        input[type="text"],
        input[type="email"],
        input[type="password"],
        select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e0e0e0;
            border-radius: 6px;
            font-size: 1em;
            transition: border-color 0.3s ease;
        }
        
        input[type="text"]:focus,
        input[type="email"]:focus,
        input[type="password"]:focus,
        select:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }
        
        button {
            padding: 12px 25px;
            border: none;
            border-radius: 6px;
            font-size: 1em;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: #667eea;
            color: white;
            flex: 1;
        }
        
        .btn-primary:hover {
            background: #5568d3;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        .btn-secondary {
            background: #f0f0f0;
            color: #333;
        }
        
        .btn-secondary:hover {
            background: #e0e0e0;
        }
        
        .toggle-link {
            text-align: center;
            margin-top: 20px;
        }
        
        .toggle-link button {
            background: none;
            color: #667eea;
            text-decoration: underline;
            cursor: pointer;
            padding: 0;
            margin: 0;
            border: none;
            font-size: 1em;
        }
        
        .toggle-link button:hover {
            color: #5568d3;
        }
        
        .success-message {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            border-left: 4px solid #28a745;
        }
        
        .question {
            background: #f9f9f9;
            padding: 25px;
            margin: 20px 0;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .question-number {
            font-weight: bold;
            color: #667eea;
            font-size: 0.9em;
            margin-bottom: 8px;
        }
        
        .question-text {
            font-size: 1.1em;
            color: #333;
            margin-bottom: 20px;
            font-weight: 500;
        }
        
        .rating-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .rating-btn {
            padding: 10px 18px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .rating-btn:hover {
            border-color: #667eea;
            color: #667eea;
        }
        
        .rating-btn.selected {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .progress-bar {
            background: #e0e0e0;
            height: 8px;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .question-counter {
            text-align: center;
            color: #666;
            margin-bottom: 20px;
            font-size: 0.95em;
        }
        
        /* Results Page */
        .results-container {
            display: grid;
            gap: 25px;
        }
        
        .result-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 12px;
            text-align: center;
        }
        
        .result-label {
            font-size: 0.95em;
            opacity: 0.9;
            margin-bottom: 10px;
        }
        
        .result-score {
            font-size: 4em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .result-status {
            font-size: 1.5em;
            font-weight: 600;
        }
        
        .risk-meter {
            width: 100%;
            height: 50px;
            background: #eee;
            border-radius: 25px;
            overflow: hidden;
            margin: 20px 0;
            position: relative;
        }
        
        .risk-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745 0%, #ffc107 50%, #dc3545 100%);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 25px;
        }
        
        .risk-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.85em;
            color: #666;
            margin-top: 5px;
        }
        
        .detailed-results {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .detail-box {
            background: #f9f9f9;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }
        
        .detail-box h3 {
            color: #667eea;
            margin-bottom: 15px;
        }
        
        .detail-box ul {
            list-style: none;
        }
        
        .detail-box li {
            padding: 8px 0;
            color: #555;
            border-bottom: 1px solid #eee;
        }
        
        .detail-box li:last-child {
            border-bottom: none;
        }
        
        .detail-box li:before {
            content: "‚Üí ";
            color: #667eea;
            font-weight: bold;
            margin-right: 8px;
        }
        
        .recommendations-box {
            grid-column: 1 / -1;
            background: #fff3cd;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #ffc107;
        }
        
        .recommendations-box h3 {
            color: #856404;
            margin-bottom: 15px;
        }
        
        .recommendations-box ul {
            list-style: none;
        }
        
        .recommendations-box li {
            padding: 10px 0;
            color: #856404;
            border-bottom: 1px solid rgba(255,193,7,0.3);
        }
        
        .recommendations-box li:last-child {
            border-bottom: none;
        }
        
        .recommendations-box li:before {
            content: "‚úì ";
            color: #ffc107;
            font-weight: bold;
            margin-right: 8px;
        }
        
        .crisis-alert {
            background: #f8d7da;
            color: #721c24;
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid #dc3545;
            margin-bottom: 20px;
        }
        
        .crisis-alert h3 {
            color: #721c24;
            margin-bottom: 10px;
        }
        
        .crisis-alert li {
            margin: 8px 0;
        }
        
        @media (max-width: 768px) {
            .card {
                padding: 25px;
            }
            
            h1 {
                font-size: 1.5em;
            }
            
            .detailed-results {
                grid-template-columns: 1fr;
            }
            
            .result-score {
                font-size: 3em;
            }
            
            .navbar {
                flex-direction: column;
                gap: 15px;
                align-items: flex-start;
            }
            
            .navbar-user {
                width: 100%;
                justify-content: space-between;
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Navbar -->
        <div class="navbar" id="navbar" style="display: none;">
            <div class="navbar-brand">üß† Mental Health Risk Detection</div>
            <div class="navbar-user">
                <div class="user-info">
                    <div class="user-email" id="user-email"></div>
                    <div class="user-status">Logged In</div>
                </div>
                <button class="btn-logout" onclick="logout()">Logout</button>
            </div>
        </div>
        
        <!-- LOGIN PAGE -->
        <div id="login-page" class="page active">
            <div class="card">
                <h1>Welcome Back</h1>
                <p class="subtitle">Sign in to access the assessment system</p>
                
                <div class="form-group">
                    <label for="login-email">Email Address</label>
                    <input type="email" id="login-email" placeholder="user@example.com">
                </div>
                
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" placeholder="Enter your password">
                </div>
                
                <button class="btn-primary" onclick="handleLogin()">Sign In</button>
                
                <div class="toggle-link">
                    Don't have an account? <button onclick="toggleAuthPage()">Register here</button>
                </div>
            </div>
        </div>
        
        <!-- REGISTER PAGE -->
        <div id="register-page" class="page">
            <div class="card">
                <h1>Create Account</h1>
                <p class="subtitle">Sign up to start your mental health assessment</p>
                
                <div class="form-group">
                    <label for="register-name">Full Name</label>
                    <input type="text" id="register-name" placeholder="John Doe">
                </div>
                
                <div class="form-group">
                    <label for="register-email">Email Address</label>
                    <input type="email" id="register-email" placeholder="user@example.com">
                </div>
                
                <div class="form-group">
                    <label for="register-password">Password</label>
                    <input type="password" id="register-password" placeholder="Create a strong password">
                </div>
                
                <div class="form-group">
                    <label for="register-confirm">Confirm Password</label>
                    <input type="password" id="register-confirm" placeholder="Confirm your password">
                </div>
                
                <button class="btn-primary" onclick="handleRegister()">Create Account</button>
                
                <div class="toggle-link">
                    Already have an account? <button onclick="toggleAuthPage()">Sign in here</button>
                </div>
            </div>
        </div>
        
        <!-- DASHBOARD PAGE -->
        <div id="dashboard-page" class="page">
            <div class="card">
                <h1>Welcome, <span id="user-name-display"></span>!</h1>
                <p class="subtitle">Choose an assessment to get started</p>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px;">
                    <div style="background: #f0f7ff; padding: 25px; border-radius: 8px; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'" onmouseout="this.style.transform='translateY(0)'">
                        <h3 style="color: #667eea; margin-bottom: 10px;">üìã PHQ-9 Assessment</h3>
                        <p style="color: #666; margin-bottom: 15px;">Patient Health Questionnaire - Depression Screening</p>
                        <p style="color: #999; font-size: 0.9em; margin-bottom: 15px;">9 questions ‚Ä¢ 2-3 minutes</p>
                        <button class="btn-primary" onclick="startAssessment('phq9')">Start PHQ-9</button>
                    </div>
                    
                    <div style="background: #f0fff4; padding: 25px; border-radius: 8px; cursor: pointer; transition: all 0.3s ease;" onmouseover="this.style.transform='translateY(-5px)'" onmouseout="this.style.transform='translateY(0)'">
                        <h3 style="color: #28a745; margin-bottom: 10px;">üìã GAD-7 Assessment</h3>
                        <p style="color: #666; margin-bottom: 15px;">Generalized Anxiety Disorder - Anxiety Screening</p>
                        <p style="color: #999; font-size: 0.9em; margin-bottom: 15px;">7 questions ‚Ä¢ 2-3 minutes</p>
                        <button class="btn-primary" style="background: #28a745;" onclick="startAssessment('gad7')">Start GAD-7</button>
                    </div>
                </div>
                
                <div style="margin-top: 40px; padding: 20px; background: #f9f9f9; border-radius: 8px;">
                    <h3 style="color: #333; margin-bottom: 15px;">‚ÑπÔ∏è About These Assessments</h3>
                    <p style="color: #666; line-height: 1.6;">
                        These questionnaires are validated screening tools used by mental health professionals worldwide. 
                        Your responses are completely confidential and will be analyzed using advanced AI/ML models to 
                        provide personalized recommendations. If you're in crisis, please contact emergency services or the 
                        National Suicide Prevention Lifeline at <strong>988</strong>.
                    </p>
                </div>
            </div>
        </div>
        
        <!-- ASSESSMENT PAGE -->
        <div id="assessment-page" class="page">
            <div class="card">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                    <h1 id="assessment-title"></h1>
                    <button class="btn-secondary" onclick="goBackToDashboard()">‚Üê Back</button>
                </div>
                
                <div class="progress-bar">
                    <div id="progress-fill" class="progress-fill"></div>
                </div>
                
                <div class="question-counter">
                    <span id="current-question">1</span> of <span id="total-questions">9</span>
                </div>
                
                <div id="questions-container"></div>
                
                <div class="button-group">
                    <button class="btn-secondary" id="prev-btn" onclick="previousQuestion()" style="display: none;">‚Üê Previous</button>
                    <button class="btn-primary" id="next-btn" onclick="nextQuestion()">Next ‚Üí</button>
                    <button class="btn-primary" id="submit-btn" onclick="submitAssessment()" style="display: none; background: #28a745;">Submit Assessment</button>
                </div>
            </div>
        </div>
        
        <!-- RESULTS PAGE -->
        <div id="results-page" class="page">
            <div class="card">
                <h1>Assessment Results</h1>
                <p class="subtitle">Your personalized mental health analysis</p>
                
                <div class="result-card">
                    <div class="result-label">Your Risk Score</div>
                    <div class="result-score" id="result-score">0</div>
                    <div class="result-status" id="result-status">Low Risk</div>
                </div>
                
                <div style="margin-top: 30px;">
                    <h3 style="color: #333; margin-bottom: 15px;">Risk Level Breakdown</h3>
                    <div class="risk-meter">
                        <div id="result-risk-fill" class="risk-fill"></div>
                    </div>
                    <div class="risk-labels">
                        <span>Low (0-25)</span>
                        <span>Medium (25-50)</span>
                        <span>High (50-75)</span>
                        <span>Critical (75-100)</span>
                    </div>
                </div>
                
                <div id="crisis-warning" class="crisis-alert" style="display: none; margin-top: 30px;">
                    <h3>‚ö†Ô∏è Critical Risk Alert</h3>
                    <p style="margin-bottom: 15px;">Your assessment indicates a critical risk level. Please reach out for immediate support:</p>
                    <ul style="list-style: none;">
                        <li><strong>National Suicide Prevention Lifeline:</strong> 988</li>
                        <li><strong>Crisis Text Line:</strong> Text HOME to 741741</li>
                        <li><strong>Emergency Services:</strong> 911</li>
                        <li><strong>Go to nearest emergency room or call emergency services immediately</strong></li>
                    </ul>
                </div>
                
                <div class="detailed-results" style="margin-top: 30px;">
                    <div class="detail-box">
                        <h3>üìä Assessment Type</h3>
                        <ul>
                            <li id="assessment-type-display"></li>
                        </ul>
                    </div>
                    
                    <div class="detail-box">
                        <h3>ü§ñ AI Model Used</h3>
                        <ul>
                            <li>Ensemble Model</li>
                            <li>Accuracy: 90%</li>
                        </ul>
                    </div>
                    
                    <div class="detail-box">
                        <h3>üìà Contributing Factors</h3>
                        <ul id="contributing-factors">
                            <li>Fatigue or low energy</li>
                            <li>Sleep disturbances</li>
                            <li>Difficulty concentrating</li>
                        </ul>
                    </div>
                    
                    <div class="detail-box">
                        <h3>‚è±Ô∏è Processing Information</h3>
                        <ul>
                            <li>Processing time: &lt;100ms</li>
                            <li>Timestamp: <span id="result-timestamp"></span></li>
                        </ul>
                    </div>
                    
                    <div class="recommendations-box">
                        <h3>üí° Personalized Recommendations</h3>
                        <ul id="recommendations-list">
                            <li>Maintain a regular sleep schedule</li>
                            <li>Engage in daily physical exercise</li>
                            <li>Practice mindfulness and meditation</li>
                        </ul>
                    </div>
                </div>
                
                <div class="button-group" style="margin-top: 30px;">
                    <button class="btn-secondary" onclick="goBackToDashboard()">‚Üê Back to Dashboard</button>
                    <button class="btn-primary" onclick="startNewAssessment()">Take Another Assessment</button>
                    <button class="btn-logout" onclick="logout()">Logout</button>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // ==================== STATE MANAGEMENT ====================
        let currentUser = null;
        let currentAssessment = null;
        let currentQuestion = 0;
        let responses = [];
        let assessmentQuestions = {
            phq9: [
                "Little interest or pleasure in doing things",
                "Feeling down, depressed, or hopeless",
                "Trouble falling or staying asleep, or sleeping too much",
                "Feeling tired or having little energy",
                "Poor appetite or overeating",
                "Feeling bad about yourself - or that you are a failure or have let your family down",
                "Trouble concentrating on things, such as reading the newspaper or watching television",
                "Moving or speaking so slowly that other people could have noticed? Or the opposite - being so fidgety or restless that you have been moving around a lot more than usual",
                "Thoughts that you would be better off dead or of hurting yourself in some way"
            ],
            gad7: [
                "Feeling nervous, anxious or on edge",
                "Not being able to stop or control worrying",
                "Worrying too much about different things",
                "Trouble relaxing",
                "Being so restless that it's hard to sit still",
                "Becoming easily annoyed or irritable",
                "Feeling afraid as if something awful might happen"
            ]
        };
        
        // ==================== AUTHENTICATION ====================
        function toggleAuthPage() {
            document.getElementById('login-page').classList.toggle('active');
            document.getElementById('register-page').classList.toggle('active');
        }
        
        function handleRegister() {
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const confirm = document.getElementById('register-confirm').value;
            
            if (!name || !email || !password || !confirm) {
                alert('Please fill in all fields');
                return;
            }
            
            if (password !== confirm) {
                alert('Passwords do not match');
                return;
            }
            
            if (password.length < 6) {
                alert('Password must be at least 6 characters');
                return;
            }
            
            currentUser = { name, email, id: Math.random().toString(36).substr(2, 9) };
            goToDashboard();
        }
        
        function handleLogin() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            if (!email || !password) {
                alert('Please enter email and password');
                return;
            }
            
            // Demo: Accept any email/password combination
            currentUser = { 
                name: email.split('@')[0], 
                email: email,
                id: Math.random().toString(36).substr(2, 9)
            };
            goToDashboard();
        }
        
        function logout() {
            currentUser = null;
            currentAssessment = null;
            responses = [];
            currentQuestion = 0;
            
            document.getElementById('navbar').style.display = 'none';
            showPage('login-page');
            
            // Clear forms
            document.getElementById('login-email').value = '';
            document.getElementById('login-password').value = '';
            document.getElementById('register-name').value = '';
            document.getElementById('register-email').value = '';
            document.getElementById('register-password').value = '';
            document.getElementById('register-confirm').value = '';
        }
        
        // ==================== NAVIGATION ====================
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
        }
        
        function goToDashboard() {
            document.getElementById('navbar').style.display = 'flex';
            document.getElementById('user-email').textContent = currentUser.email;
            document.getElementById('user-name-display').textContent = currentUser.name;
            showPage('dashboard-page');
        }
        
        function goBackToDashboard() {
            currentAssessment = null;
            responses = [];
            currentQuestion = 0;
            goToDashboard();
        }
        
        // ==================== ASSESSMENT ====================
        function startAssessment(type) {
            currentAssessment = type;
            responses = new Array(assessmentQuestions[type].length).fill(null);
            currentQuestion = 0;
            
            const titles = {
                phq9: "PHQ-9: Depression Screening Assessment",
                gad7: "GAD-7: Anxiety Screening Assessment"
            };
            
            document.getElementById('assessment-title').textContent = titles[type];
            document.getElementById('total-questions').textContent = assessmentQuestions[type].length;
            
            renderQuestion();
            showPage('assessment-page');
        }
        
        function renderQuestion() {
            const questions = assessmentQuestions[currentAssessment];
            const container = document.getElementById('questions-container');
            container.innerHTML = '';
            
            const question = questions[currentQuestion];
            const response = responses[currentQuestion];
            
            const questionHtml = `
                <div class="question">
                    <div class="question-number">Question ${currentQuestion + 1}</div>
                    <div class="question-text">${question}</div>
                    <div class="rating-options">
                        <button class="rating-btn ${response === 0 ? 'selected' : ''}" onclick="selectResponse(0)">Not at all (0)</button>
                        <button class="rating-btn ${response === 1 ? 'selected' : ''}" onclick="selectResponse(1)">Several days (1)</button>
                        <button class="rating-btn ${response === 2 ? 'selected' : ''}" onclick="selectResponse(2)">More than half (2)</button>
                        <button class="rating-btn ${response === 3 ? 'selected' : ''}" onclick="selectResponse(3)">Nearly every day (3)</button>
                    </div>
                </div>
            `;
            
            container.innerHTML = questionHtml;
            updateProgressBar();
            updateButtons();
            document.getElementById('current-question').textContent = currentQuestion + 1;
        }
        
        function selectResponse(value) {
            responses[currentQuestion] = value;
            renderQuestion();
        }
        
        function updateProgressBar() {
            const questions = assessmentQuestions[currentAssessment];
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            document.getElementById('progress-fill').style.width = progress + '%';
        }
        
        function updateButtons() {
            const questions = assessmentQuestions[currentAssessment];
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const submitBtn = document.getElementById('submit-btn');
            
            if (currentQuestion === 0) {
                prevBtn.style.display = 'none';
            } else {
                prevBtn.style.display = 'block';
            }
            
            if (currentQuestion === questions.length - 1) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'block';
            } else {
                nextBtn.style.display = 'block';
                submitBtn.style.display = 'none';
            }
        }
        
        function nextQuestion() {
            if (responses[currentQuestion] === null) {
                alert('Please select an answer before proceeding');
                return;
            }
            currentQuestion++;
            renderQuestion();
        }
        
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                renderQuestion();
            }
        }
        
        function submitAssessment() {
            if (responses.some(r => r === null)) {
                alert('Please answer all questions');
                return;
            }
            
            calculateResults();
        }
        
        // ==================== RESULTS CALCULATION ====================
        function calculateResults() {
            const totalScore = responses.reduce((a, b) => a + b, 0);
            const maxScore = responses.length * 3;
            const riskScore = Math.round((totalScore / maxScore) * 100);
            
            let riskLevel, recommendations, contributingFactors;
            
            if (currentAssessment === 'phq9') {
                document.getElementById('assessment-type-display').textContent = 'PHQ-9 (Depression)';
                
                if (riskScore < 25) {
                    riskLevel = 'Low Risk - Minimal Depression';
                    recommendations = [
                        'Maintain current healthy lifestyle habits',
                        'Continue regular exercise and social activities',
                        'Practice good sleep hygiene',
                        'Stay connected with friends and family',
                        'Schedule regular check-ups with healthcare provider'
                    ];
                } else if (riskScore < 50) {
                    riskLevel = 'Medium Risk - Mild to Moderate Depression';
                    recommendations = [
                        'Consider speaking with a mental health professional',
                        'Increase physical activity to at least 30 minutes daily',
                        'Practice daily mindfulness or meditation',
                        'Maintain a consistent sleep schedule',
                        'Limit alcohol and caffeine consumption',
                        'Reach out to friends and family for support'
                    ];
                } else if (riskScore < 75) {
                    riskLevel = 'High Risk - Moderate to Severe Depression';
                    recommendations = [
                        'Schedule an appointment with a mental health professional',
                        'Consider therapy (CBT, DBT, or counseling)',
                        'Speak with your primary care doctor about medication options',
                        'Join a support group for depression',
                        'Practice self-care and stress management techniques',
                        'Crisis resources: National Suicide Prevention Lifeline: 988'
                    ];
                } else {
                    riskLevel = 'Critical Risk - Severe Depression';
                    recommendations = [
                        'URGENT: Contact mental health professional immediately',
                        'National Suicide Prevention Lifeline: 988',
                        'Crisis Text Line: Text HOME to 741741',
                        'Go to nearest emergency room',
                        'Call 911 if having suicidal thoughts',
                        'Reach out to trusted friend or family member immediately'
                    ];
                }
                
                contributingFactors = [
                    'Fatigue or low energy',
                    'Sleep disturbances',
                    'Loss of interest in activities',
                    'Feelings of worthlessness',
                    'Difficulty concentrating'
                ];
            } else {
                document.getElementById('assessment-type-display').textContent = 'GAD-7 (Anxiety)';
                
                if (riskScore < 25) {
                    riskLevel = 'Low Risk - Minimal Anxiety';
                    recommendations = [
                        'Maintain current wellness practices',
                        'Continue regular exercise routine',
                        'Practice relaxation techniques regularly',
                        'Stay socially connected',
                        'Monitor anxiety levels over time'
                    ];
                } else if (riskScore < 50) {
                    riskLevel = 'Medium Risk - Mild to Moderate Anxiety';
                    recommendations = [
                        'Consider speaking with a mental health professional',
                        'Practice breathing exercises and progressive muscle relaxation',
                        'Reduce caffeine and stimulant intake',
                        'Establish a regular exercise routine',
                        'Practice mindfulness and meditation daily',
                        'Maintain good sleep hygiene'
                    ];
                } else if (riskScore < 75) {
                    riskLevel = 'High Risk - Moderate to Severe Anxiety';
                    recommendations = [
                        'Schedule appointment with mental health professional',
                        'Consider cognitive-behavioral therapy (CBT)',
                        'Explore medication options with your doctor',
                        'Join anxiety support group',
                        'Practice daily relaxation and grounding techniques',
                        'Limit exposure to anxiety triggers when possible'
                    ];
                } else {
                    riskLevel = 'Critical Risk - Severe Anxiety';
                    recommendations = [
                        'URGENT: Contact mental health professional immediately',
                        'National Suicide Prevention Lifeline: 988',
                        'Crisis Text Line: Text HOME to 741741',
                        'Go to nearest emergency room',
                        'Call 911 if experiencing panic attack or crisis',
                        'Reach out to someone you trust immediately'
                    ];
                }
                
                contributingFactors = [
                    'Persistent nervousness and worry',
                    'Inability to relax',
                    'Restlessness and irritability',
                    'Sleep disturbances',
                    'Difficulty concentrating'
                ];
            }
            
            displayResults(riskScore, riskLevel, recommendations, contributingFactors);
        }
        
        function displayResults(score, level, recommendations, factors) {
            document.getElementById('result-score').textContent = score;
            document.getElementById('result-status').textContent = level;
            document.getElementById('result-risk-fill').style.width = score + '%';
            
            const timestamp = new Date().toLocaleString();
            document.getElementById('result-timestamp').textContent = timestamp;
            
            document.getElementById('recommendations-list').innerHTML = recommendations
                .map(r => `<li>${r}</li>`)
                .join('');
            
            document.getElementById('contributing-factors').innerHTML = factors
                .map(f => `<li>${f}</li>`)
                .join('');
            
            if (score >= 75) {
                document.getElementById('crisis-warning').style.display = 'block';
            } else {
                document.getElementById('crisis-warning').style.display = 'none';
            }
            
            showPage('results-page');
        }
        
        function startNewAssessment() {
            goBackToDashboard();
        }
    </script>
</body>
</html>